-- Crear la tabla Usuario (puede ser el profesor o el alumno)
CREATE TABLE Usuario (
    rut VARCHAR(12) PRIMARY KEY,
    nombre VARCHAR(50) NOT NULL,
    apellido VARCHAR(50) NOT NULL,
    correo VARCHAR(255) UNIQUE NOT NULL,
    rol VARCHAR(50) NOT NULL,
    password VARCHAR(255) NOT NULL
);

-- Crear la tabla Asignatura (relacionada con el profesor mediante rut)
CREATE TABLE Asignatura (
    id_asignatura VARCHAR(20) PRIMARY KEY,
    nombre_asignatura VARCHAR(100) NOT NULL,
    rut_profesor VARCHAR(12) NOT NULL,
    FOREIGN KEY (rut_profesor) REFERENCES Usuario (rut)
);

-- Crear la tabla Calificacion (relacionada con Usuario y Asignatura)
CREATE TABLE Calificacion (
    id_nota VARCHAR(20) PRIMARY KEY,
    nota DECIMAL(4, 2) NOT NULL,
    ponderacion_nota DECIMAL(5, 2),
    categoria VARCHAR(50),
    ponderacion_categoria DECIMAL(5, 2),
    fecha DATE NOT NULL,
    rut VARCHAR(12) NOT NULL,
    id_asignatura VARCHAR(20) NOT NULL,
    ponderacion_Pie BOOLEAN NOT NULL,
    FOREIGN KEY (rut) REFERENCES Usuario (rut),
    FOREIGN KEY (id_asignatura) REFERENCES Asignatura (id_asignatura)
);
